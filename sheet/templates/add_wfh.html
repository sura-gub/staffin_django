{% extends 'common_header.html' %}
{% load static %}
{% block content %}
{% include 'header_emp.html' %}

<style>
    body {
          background-image: url('{% static "img/logbg2.png" %}');
          min-height: 750px;
          background-size: cover;
          background-repeat: no-repeat;
          background-position: center;
        }
        
.tdtop{
    color: rgb(0, 42, 255);
    font-size: 15px;
    font-weight: 600;
    font-family: calibri;
}
.con{
    border: 1px solid rgb(131, 192, 212);
    padding: 30px;
    background-color: #eaf3f5;
    border-radius: 15px;
    box-shadow: 0 0 10px rgba(31, 32, 32, 0.3); 
    
}
/* button head */

.buttonhead {
    margin: 5.5% 0 0% 35%;
  height: auto;
  background: transparent;
  padding: 0;
  border: none;
  cursor: pointer;
}
@media screen and (max-width:999px) {
    .buttonhead {
  margin: 100px 0 20px 350px;
  height: auto;
  background: transparent;
  padding: 0;
  border: none;
  cursor: pointer;
}
.buttonhead {
  --border-right: 2px;
  --text-stroke-color: #38696d;
  --animation-color: #38696d;
  --fs-size: 1em;
  letter-spacing: 1.5px;
  text-decoration: none;
  font-size: 10px;
  font-family: "calibri";
  position: relative;
  text-transform: uppercase;
  color: transparent;
  -webkit-text-stroke: 1px var(--text-stroke-color);
}
}
input[type="search"] {
            padding: 8px;
            border: 1px solid #35acb4;
            border-radius: 7px;
            outline: none;
            width: 25%; /* Set the width as needed */
            box-sizing: border-box;
            margin-left: 3%;
           
        }
@media screen and (max-width:699px) {
    .buttonhead {
  margin: 100px 0 20px 200px;
  height: auto;
  background: transparent;
  padding: 0;
  border: none;
  cursor: pointer;
}
.buttonhead {
  --border-right: 2px;
  --text-stroke-color: #38696d;
  --animation-color: #38696d;
  --fs-size: 1em;
  letter-spacing: 1px;
  text-decoration: none;
  font-size: 10px;
  font-family: "calibri";
  position: relative;
  text-transform: uppercase;
  color: transparent;
  -webkit-text-stroke: 1px var(--text-stroke-color);
}
}
/* button styling */
.buttonhead {
  --border-right: 2px;
  font-weight: 800;

  --fs-size: 1.8em;
  letter-spacing: 1px;
  text-decoration: none;
  font-size: var(--fs-size);
  font-family: "calibri";
  position: relative;
  text-transform: uppercase;
  color: #1a49a1;
  -webkit-text-stroke: 1px var(--text-stroke-color);
}

/* hover */
.buttonhead:hover .hover-text {
  width: 100%;
  filter: drop-shadow(0 0 23px var(--animation-color))
}

/* checkbox settings ðŸ‘‡ */

.ui-checkbox {
  --primary-color: #1677ff;
  --secondary-color: #fff;
  --primary-hover-color: #4096ff;
  /* checkbox */
  --checkbox-diameter: 20px;
  --checkbox-border-radius: 5px;
  --checkbox-border-color: #d9d9d9;
  --checkbox-border-width: 1px;
  --checkbox-border-style: solid;
  /* checkmark */
  --checkmark-size: 1.2;
}

.ui-checkbox, 
.ui-checkbox *, 
.ui-checkbox *::before, 
.ui-checkbox *::after {
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

.ui-checkbox {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: var(--checkbox-diameter);
  height: var(--checkbox-diameter);
  border-radius: var(--checkbox-border-radius);
  background: var(--secondary-color);
  border: var(--checkbox-border-width) var(--checkbox-border-style) var(--checkbox-border-color);
  -webkit-transition: all 0.3s;
  -o-transition: all 0.3s;
  transition: all 0.3s;
  cursor: pointer;
  position: relative;
}

.ui-checkbox::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  -webkit-box-shadow: 0 0 0 calc(var(--checkbox-diameter) / 2.5) var(--primary-color);
  box-shadow: 0 0 0 calc(var(--checkbox-diameter) / 2.5) var(--primary-color);
  border-radius: inherit;
  opacity: 0;
  -webkit-transition: all 0.5s cubic-bezier(0.12, 0.4, 0.29, 1.46);
  -o-transition: all 0.5s cubic-bezier(0.12, 0.4, 0.29, 1.46);
  transition: all 0.5s cubic-bezier(0.12, 0.4, 0.29, 1.46);
}

.ui-checkbox::before {
  top: 40%;
  left: 50%;
  content: "";
  position: absolute;
  width: 4px;
  height: 7px;
  border-right: 2px solid var(--secondary-color);
  border-bottom: 2px solid var(--secondary-color);
  -webkit-transform: translate(-50%, -50%) rotate(45deg) scale(0);
  -ms-transform: translate(-50%, -50%) rotate(45deg) scale(0);
  transform: translate(-50%, -50%) rotate(45deg) scale(0);
  opacity: 0;
  -webkit-transition: all 0.1s cubic-bezier(0.71, -0.46, 0.88, 0.6),opacity 0.1s;
  -o-transition: all 0.1s cubic-bezier(0.71, -0.46, 0.88, 0.6),opacity 0.1s;
  transition: all 0.1s cubic-bezier(0.71, -0.46, 0.88, 0.6),opacity 0.1s;
}

/* actions */

.ui-checkbox:hover {
  border-color: var(--primary-color);
}

.ui-checkbox:checked {
  background: var(--primary-color);
  border-color: transparent;
}

.ui-checkbox:checked::before {
  opacity: 1;
  -webkit-transform: translate(-50%, -50%) rotate(45deg) scale(var(--checkmark-size));
  -ms-transform: translate(-50%, -50%) rotate(45deg) scale(var(--checkmark-size));
  transform: translate(-50%, -50%) rotate(45deg) scale(var(--checkmark-size));
  -webkit-transition: all 0.2s cubic-bezier(0.12, 0.4, 0.29, 1.46) 0.1s;
  -o-transition: all 0.2s cubic-bezier(0.12, 0.4, 0.29, 1.46) 0.1s;
  transition: all 0.2s cubic-bezier(0.12, 0.4, 0.29, 1.46) 0.1s;
}

.ui-checkbox:active:not(:checked)::after {
  -webkit-transition: none;
  -o-transition: none;
  -webkit-box-shadow: none;
  box-shadow: none;
  transition: none;
  opacity: 1;
}
</style>


<body  class="w-100 container-fluid">
    <div class="col-md-12  col-12 mb-3 " style="margin-top: 30px;">
        <button class="buttonhead col-4" data-text="Awesome">
            <span class="actual-text">&nbsp;Add Work From Home&nbsp;</span>
        </button>
    </div>
   <div class="row  col-lg-12">
    <center>
    <div class="col-lg-10">  
        <table style="border-radius: 5px;" class="table table-bordered con">
            <tr class="tdtop">
                <td>Request Date : <i class="text-dark" id="date"></i></td>

                <script>
                  // Function to get the current date in the format required
                  function getCurrentDate() {
                    var currentDate = new Date();
                    var day = currentDate.getDate();
                    var month = currentDate.getMonth() + 1; // Months are zero based
                    var year = currentDate.getFullYear();
              
                    // Pad day and month with leading zero if needed
                    day = day < 10 ? '0' + day : day;
                    month = month < 10 ? '0' + month : month;
              
                    // Return the formatted date string
                    return day + '-' + month + '-' + year;
                  }
              
                  // Function to update the content of the td element with the current date
                  function updateDate() {
                    var tdElement = document.getElementById('date');
                    if (tdElement) {
                      tdElement.innerHTML = '<i class="text-dark">' + getCurrentDate() + '</i>';
                    }
                  }
              
                  // Call updateDate function when the page loads
                  window.onload = function() {
                    updateDate();
                  };
                </script>

                {% for details in work_data %}
   
        <td>Department : <i class="text-dark" id="department">{{ details.em_depart }}</i></td>
    </tr>
    <tr class="tdtop">
        <td>Employee ID : <i class="text-dark" id="employee_id">{{ details.user_id }}</i></td>
        <td>Employee Name :  <i class="text-dark" id="employee_name">{{ details.nm }}</i></td>
    </tr>
{% endfor %}

           
          
<tr class="tdtop">
  <td><span style="color: red;">*</span>Work From Home Start <input id="start_date" style="zoom: 0.8;" class="btn-sm btn-secondary-outline m-2" type="date"></td>
  <td><span style="color: red;">*</span>Work From Home End <input id="end_date" style="zoom: 0.8;" class="btn-sm btn-secondary-outline m-2" type="date"></td>
  
</tr>
<span id="startdate_error" style="color: red;" class="error-msg"></span>
<span id="enddate_error" style="color: red;" class="error-msg"></span>
        </table>
      
   </div>
  </center>
    </div>
    <div class="row">
        <center>
            <h4 style="color: #38696d;">PROPOSED SCHEDULE DETAILS </h4>
    </center>
    </div>  
    <div class="container con">
       
           <table class="table table-bordered ">
            <thead style=" background-color:#38696d; color: #ffff;">
                <th>DAY</th>
                <th>START TIME</th>
                <th>END TIME</th>
            </thead>
            <tbody>
                <tr>
                <td>Monday</td>
                <td><select id="monday_start_hour" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect1" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect1" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="monday_start_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select>
          <button id="monday_add_button" class="btn-primary">Apply All</button>
          </td>
          <script>
            document.addEventListener("DOMContentLoaded", function() {
                const addButton = document.querySelector('#monday_add_button');
                addButton.addEventListener('click', function() {
                    // Get the values
                    const mondayStartHour = document.getElementById('monday_start_hour').value;
                    const mondayStartPeriod = document.getElementById('monday_start_period').value;
                    const numberSelect1 = document.getElementById('numberSelect1').value;
        
                    // Check if any of the values are empty
                    if (mondayStartHour.trim() === '' || mondayStartPeriod.trim() === '' || numberSelect1.trim() === '') {
                        alert('Please fill in all required fields for Monday start time.');
                        return; // Stop execution if any of the values are empty
                    }
        
                    // Rest of your code
                    const days = ['tue', 'wed', 'thur', 'fri', 'sat', 'sun'];
                    const Select = ['3', '5', '7', '9', '11', '13'];
        
                    days.forEach(function(day) {
                        document.getElementById(`${day}_start_hour`).value = mondayStartHour;
                        document.getElementById(`${day}_start_period`).value = mondayStartPeriod;
                    });
        
                    Select.forEach(function(num) {
                        document.getElementById(`numberSelect${num}`).value = numberSelect1;
                    });
                });
        
                // Similar validation for the "Monday End" button
                const addButton1 = document.querySelector('#monday_end_button');
                addButton1.addEventListener('click', function() {
                    // Get the values
                    const mondayEndHour = document.getElementById('monday_end_hour').value;
                    const mondayEndPeriod = document.getElementById('monday_end_period').value;
                    const numberSelect2 = document.getElementById('numberSelect2').value;
        
                    // Check if any of the values are empty
                    if (mondayEndHour.trim() === '' || mondayEndPeriod.trim() === '' || numberSelect2.trim() === '') {
                        alert('Please fill in all required fields for Monday end time.');
                        return; // Stop execution if any of the values are empty
                    }
        
                    // Rest of your code
                    const days1 = ['tue', 'wed', 'thur', 'fri', 'sat', 'sun'];
                    const Select1 = ['4', '6', '8', '10', '12', '14'];
        
                    days1.forEach(function(day1) {
                        document.getElementById(`${day1}_end_hour`).value = mondayEndHour;
                        document.getElementById(`${day1}_end_period`).value = mondayEndPeriod;
                    });
        
                    Select1.forEach(function(num1) {
                        document.getElementById(`numberSelect${num1}`).value = numberSelect2;
                    });
                });
            });
        </script>
        
        
       
        
                <td><select id="monday_end_hour" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect2"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect2" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="monday_end_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="monday_end_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select>
          <button id="monday_end_button" class="btn-primary">Apply All</button></td>
            </tr>
            <tr>
                <td>Tuesday</td>
                <td><select id="tue_start_hour"   style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect3" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect3" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="tue_start_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
                <td><select id="tue_end_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect4" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect4" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="tue_end_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
            </tr>
            <tr>
                <td>Wednesday</td>
                <td><select id="wed_start_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect5" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect5" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="wed_start_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
                <td><select id="wed_end_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect6" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect6" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="wed_end_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
            </tr>
            <tr>
                <td>Thursday</td>
                <td><select id="thur_start_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect7" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect7" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="thur_start_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
                <td><select id="thur_end_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect8" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect8" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="thur_end_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
            </tr>
            <tr>
                <td>Friday</td>
                <td><select id="fri_start_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect9" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect9" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="fri_start_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
                <td><select id="fri_end_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect10" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect10" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="fri_end_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
            </tr>
            <tr>
                <td>Saturday</td>
                <td><select id="sat_start_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect11" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect11" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="sat_start_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
                <td><select id="sat_end_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect12" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect12" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="sat_end_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
            </tr> <tr>
                <td>Sunday</td>
                <td><select id="sun_start_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect13" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect13" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="sun_start_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
                <td><select id="sun_end_hour"  style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe">
                  <option value="" selected disabled>--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
              </select>
              <select id="numberSelect14" style="width: 20%; padding: 2px; border-radius: 5px;border-color: #b8bdbe" name="numberSelect14" >
                <option value="" selected disabled>--</option>
            </select>
            <select id="sun_end_period" style="width: 15%; padding: 2px; border-radius: 5px; border-color: #b8bdbe;" name="workfrom_period">
              <option value="" selected disabled>--</option>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
          </select></td>
            </tr>
            </tbody>
           </table>
      
       
    </div>
    <div class="row col-lg-12">
      <div class="col-lg-6  text-center mt-3">
    <h5 class="text-primary"><span style="color: red;">*</span>Purpose/Reason For Working at Home</h5>
    <span id="reason_error" style="color: red;" class="error-msg"></span>
    <textarea type="text" id="reason" class="w-75 m-3"></textarea>
    
      </div>
      <div class="col-lg-6  text-center">
        <h5 class="text-primary"><span style="color: red;">*</span>Supervisor Name</h5>
        <span id="supervisor_name_error" style="color: red;" class="error-msg"></span>
        <textarea type="text" id="supervisor_name" class="w-75 m-3"></textarea>
        
      </div>

      <script>
        // {% if check_data %}
          var supervisorTextareaValue = '{{ work_data.0.em_depart_hed }}';
        // {% else %}
          var supervisorTextareaValue = '{{ work_data.0.em_depart_tl }}';
        // {% endif %}
        
        // {% if check_data2 %}
        var supervisorTextareaValue = '';
        // {% endif %}
  
  // Assigning the value to the textarea
  var supervisorTextarea = document.getElementById("supervisor_name");
  supervisorTextarea.value = supervisorTextareaValue;
  
        </script>

    </div>
    <div class="row col-lg-12">
      <div class="d-flex col-lg-6">
        <input type="checkbox" class="ui-checkbox m-1"><p> {% for details in work_data %}<b>{{ details.nm }}</b>{% endfor %} hearby accept the terms & Conditions of work from home policy.</p>
    </div>
    <div>
      <ol style="zoom: 0.8;">
        <li>CL cannot availed During WFH.</li>
        <li>IP Portal & Slack should be online.</li>
        <li>Respond to the Calls/Email/Messages.if Not Respond Within 10 Minutes the Management Cancel the WFH Without Prior Notice.</li>
      </ol>
    </div>
    </div>
    <div class="col-lg-12 text-center">
<button class="btn btn-success m-3" id="submit_btn" style="display: none;">Accept&Submit</button>
    </div>

<script>
  $(document).ready(function() {
    $('.ui-checkbox').change(function() {
        if (this.checked) {
            $('#submit_btn').show();
        } else {
            $('#submit_btn').hide();
        }
    });
});

</script>

    <script>
   document.getElementById("submit_btn").addEventListener("click", function() {
    var startDate = document.getElementById("start_date").value;
    var endDate = document.getElementById("end_date").value;
    var supervisorName = document.getElementById('supervisor_name').value;
    var reason = document.getElementById('reason').value;
    console.log("reason",reason)


// Check if any of the required fields are empty

if (!startDate) {
        document.getElementById("startdate_error").innerText = "Please select a start date."; // Display error message
        return;
    } else {
        document.getElementById("startdate_error").innerText = ""; // Clear error message
    }

    if (!endDate) {
        document.getElementById("enddate_error").innerText = "Please select an end date."; // Display error message
        return;
    } else {
        document.getElementById("enddate_error").innerText = ""; // Clear error message
    }

    if (!reason) {
        document.getElementById("reason_error").innerText = "Please enter your reason."; // Display error message
        return;
    } else {
        document.getElementById("reason_error").innerText = ""; // Clear error message
    }

    if (!supervisorName) {
        document.getElementById("supervisor_name_error").innerText = "Please enter supervisor name."; // Display error message
        return;
    } else {
        document.getElementById("supervisor_name_error").innerText = ""; // Clear error message
    }

    var reqDate = new Date(); // Get the current date and time
    var req_dt = formatDate(reqDate); // Format the date

    // Retrieving department, employee ID, and employee name by their IDs
    var department = document.getElementById('department').textContent.trim();
    var employeeID = document.getElementById('employee_id').textContent.trim();
    var employeeName = document.getElementById('employee_name').textContent.trim();

    // Retrieving Monday to Thursday start and end times
    var monday_start_hour = document.getElementById("monday_start_hour").value;
    var numberSelect1 = document.getElementById("numberSelect1").value;
    var monday_start_period = document.getElementById("monday_start_period").value;

    var monday_end_hour = document.getElementById("monday_end_hour").value;
    var numberSelect2 = document.getElementById("numberSelect2").value;
    var monday_end_period = document.getElementById("monday_end_period").value;

    var tue_start_hour = document.getElementById("tue_start_hour").value;
    var numberSelect3 = document.getElementById("numberSelect3").value;
    var tue_start_period = document.getElementById("tue_start_period").value;

    var tue_end_hour = document.getElementById("tue_end_hour").value;
    var numberSelect4 = document.getElementById("numberSelect4").value;
    var tue_end_period = document.getElementById("tue_end_period").value;

    var wed_start_hour = document.getElementById("wed_start_hour").value;
    var numberSelect5 = document.getElementById("numberSelect5").value;
    var wed_start_period = document.getElementById("wed_start_period").value;

    var wed_end_hour = document.getElementById("wed_end_hour").value;
    var numberSelect6 = document.getElementById("numberSelect6").value;
    var wed_end_period = document.getElementById("wed_end_period").value;

    var thur_start_hour = document.getElementById("thur_start_hour").value;
    var numberSelect7 = document.getElementById("numberSelect7").value;
    var thur_start_period = document.getElementById("thur_start_period").value;

    var thur_end_hour = document.getElementById("thur_end_hour").value;
    var numberSelect8 = document.getElementById("numberSelect8").value;
    var thur_end_period = document.getElementById("thur_end_period").value;

    // Retrieving Friday to Sunday start and end times
    var fri_start_hour = document.getElementById("fri_start_hour").value;
    var numberSelect9 = document.getElementById("numberSelect9").value;
    var fri_start_period = document.getElementById("fri_start_period").value;

    var fri_end_hour = document.getElementById("fri_end_hour").value;
    var numberSelect10 = document.getElementById("numberSelect10").value;
    var fri_end_period = document.getElementById("fri_end_period").value;

    var sat_start_hour = document.getElementById("sat_start_hour").value;
    var numberSelect11 = document.getElementById("numberSelect11").value;
    var sat_start_period = document.getElementById("sat_start_period").value;

    var sat_end_hour = document.getElementById("sat_end_hour").value;
    var numberSelect12 = document.getElementById("numberSelect12").value;
    var sat_end_period = document.getElementById("sat_end_period").value;

    var sun_start_hour = document.getElementById("sun_start_hour").value;
    var numberSelect13 = document.getElementById("numberSelect13").value;
    var sun_start_period = document.getElementById("sun_start_period").value;

    var sun_end_hour = document.getElementById("sun_end_hour").value;
    var numberSelect14 = document.getElementById("numberSelect14").value;
    var sun_end_period = document.getElementById("sun_end_period").value;

   
    


    var csrftoken = getCookie('csrftoken'); // Ensure you have a function to get the CSRF token

    // Send data via AJAX to Django view
    fetch("/save_work_from_home/", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "X-CSRFToken": csrftoken
        },
        body: JSON.stringify({
            "start_date": startDate,
            "end_date": endDate,
            "req_dt": req_dt,
            "department": department,
            "employee_id": employeeID,
            "employee_name": employeeName,
            "monday_start_hour": monday_start_hour,
            "numberSelect1": numberSelect1,
            "monday_start_period": monday_start_period,
            "monday_end_hour": monday_end_hour,
            "numberSelect2": numberSelect2,
            "monday_end_period": monday_end_period,
            "tue_start_hour": tue_start_hour,
            "numberSelect3": numberSelect3,
            "tue_start_period": tue_start_period,
            "tue_end_hour": tue_end_hour,
            "numberSelect4": numberSelect4,
            "tue_end_period": tue_end_period,
            "wed_start_hour": wed_start_hour,
            "numberSelect5": numberSelect5,
            "wed_start_period": wed_start_period,
            "wed_end_hour": wed_end_hour,
            "numberSelect6": numberSelect6,
            "wed_end_period": wed_end_period,
            "thur_start_hour": thur_start_hour,
            "numberSelect7": numberSelect7,
            "thur_start_period": thur_start_period,
            "thur_end_hour": thur_end_hour,
            "numberSelect8": numberSelect8,
            "thur_end_period": thur_end_period,
            "fri_start_hour": fri_start_hour,
            "numberSelect9": numberSelect9,
            "fri_start_period": fri_start_period,
            "fri_end_hour": fri_end_hour,
            "numberSelect10": numberSelect10,
            "fri_end_period": fri_end_period,
            "sat_start_hour": sat_start_hour,
            "numberSelect11": numberSelect11,
            "sat_start_period": sat_start_period,
            "sat_end_hour": sat_end_hour,
            "numberSelect12": numberSelect12,
            "sat_end_period": sat_end_period,
            "sun_start_hour": sun_start_hour,
            "numberSelect13": numberSelect13,
            "sun_start_period": sun_start_period,
            "sun_end_hour": sun_end_hour,
            "numberSelect14": numberSelect14,
            "sun_end_period": sun_end_period,
            "reason": reason,
            "supervisorName": supervisorName,
        })
    }).then(function(response) {
    if (response.ok) {
        // Show success message using SweetAlert
        Swal.fire({
            icon: 'success',
            title: 'Success',
            text: 'Success...!',
        }).then(function() {
            // Reload the page
            location.reload();
        });
    } else {
        // Show error message using SweetAlert
        Swal.fire({
            icon: 'error',
            title: 'Error',
            text: 'Error saving data: ' + response.statusText,
        });
    }
})
.catch(function(error) {
        console.error("Error saving data:", error);
    });
});


  
      function formatDate(date) {
          var year = date.getFullYear();
          var month = ("0" + (date.getMonth() + 1)).slice(-2); // Adding leading zero if needed
          var day = ("0" + date.getDate()).slice(-2); // Adding leading zero if needed
          return year + "-" + month + "-" + day;
      }
  
      function getCookie(name) {
          var cookieValue = null;
          if (document.cookie && document.cookie !== '') {
              var cookies = document.cookie.split(';');
              for (var i = 0; i < cookies.length; i++) {
                  var cookie = cookies[i].trim();
                  // Does this cookie string begin with the name we want?
                  if (cookie.substring(0, name.length + 1) === (name + '=')) {
                      cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                      break;
                  }
              }
          }
          return cookieValue;
      }
  </script>
  





    <script>
       // Get the select element for "numberSelect"
       var numberSelect = document.getElementsByName("numberSelect1")[0];
    
    // Loop to add options from 0 to 59
    for (var i = 0; i <= 59; i++) {
        var option = document.createElement("option");
        var text = (i < 10) ? '0' + i : i;
        option.value = i;
        option.text = text;
        numberSelect.add(option);
    }

    </script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect2")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect3")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect4")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect5")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect6")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect7")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect8")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect9")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect10")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect11")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect12")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect13")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>

<script>
  // Get the select element for "numberSelect"
  var numberSelect = document.getElementsByName("numberSelect14")[0];

// Loop to add options from 0 to 59
for (var i = 0; i <= 59; i++) {
   var option = document.createElement("option");
   var text = (i < 10) ? '0' + i : i;
   option.value = i;
   option.text = text;
   numberSelect.add(option);
}

</script>


    <script>
        var lilota = document.getElementById("lolita");
    var lilotaoff = document.getElementById("lolitaoff");
    var offcanvas = document.getElementById("offcanvasExample");
    var navigation1 = document.getElementById("navigation");

    
    // Function to set dark mode based on the value stored in localStorage
    function setDarkModeFromStorage() {
      var element = document.body;
      var storedDarkMode = localStorage.getItem('darkMode');
      var toggleDarkModeButton = document.getElementById('toggleDarkModeButton');
    
      if (storedDarkMode === 'true') {
        element.classList.add('dark-mode');
        toggleDarkModeButton.checked = true;
        applyDarkModeStyles();
      } else {
        element.classList.remove('dark-mode');
        toggleDarkModeButton.checked = false;
        removeDarkModeStyles();
      }
    }
    
    // Function to apply dark mode styles
    function applyDarkModeStyles() {
      lolita.src = "{% static 'img/staffinlogooff_drk.png' %}";
      lolitaoff.src = "{% static 'img/staffinlogooff_drk.png' %}";
      offcanvas.classList.add("offcanvasdrk");
      navigation1.classList.add("navbardrk");

    }
    
    // Function to remove dark mode styles
    function removeDarkModeStyles() {
      lolita.src = "{% static 'img/staffinlogooff.png' %}";
      lolitaoff.src = "{% static 'img/staffinlogooff.png' %}";
      offcanvas.classList.remove("offcanvasdrk");
      navigation1.classList.remove("navbardrk");
    

    }
    
    // Function to toggle dark mode and store the state in localStorage
    function toggleDarkMode() {
      var element = document.body;
      element.classList.toggle('dark-mode');
        
      if (element.classList.contains("dark-mode")) {
        applyDarkModeStyles();
      } else {
        removeDarkModeStyles();
      }
    
      // Store the current dark mode state in localStorage
      var isDarkMode = element.classList.contains('dark-mode');
      localStorage.setItem('darkMode', isDarkMode.toString());
    }
    
    // Call the function to set dark mode on page load
    setDarkModeFromStorage();
      </script>
</body>
<!-- {% include 'footer.html' %} -->
{% endblock %}